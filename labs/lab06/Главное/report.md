---
## Front matter
title: "Отчёт по лабораторной работе №6"
subtitle: "Поиск файлов. Перенаправление ввода-вывода. Просмотр запущенных процессов"
author: "Аскеров Александр Эдуардович"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Ознакомление с инструментами поиска файлов и фильтрации текстовых данных. Приобретение практических навыков: по управлению процессами (и заданиями), по проверке использования диска и обслуживанию файловых систем.

# Задание

1. Осуществите вход в систему, используя соответствующее имя пользователя.

2. Запишите в файл file.txt названия файлов, содержащихся в каталоге /etc. Допишите в этот же файл названия файлов, содержащихся в вашем домашнем каталоге.

3. Выведите имена всех файлов из file.txt, имеющих расширение .conf, после чего запишите их в новый текстовой файл conf.txt.

4. Определите, какие файлы в вашем домашнем каталоге имеют имена, начинавшиеся с символа c? Предложите несколько вариантов, как это сделать.

5. Выведите на экран (по странично) имена файлов из каталога /etc, начинающиеся с символа h.

6. Запустите в фоновом режиме процесс, который будет записывать в файл ~/logfile файлы, имена которых начинаются с log.

7. Удалите файл ~/logfile.

8. Запустите из консоли в фоновом режиме редактор gedit.

9. Определите идентификатор процесса gedit, используя команду ps, конвейер и фильтр grep. Как ещё можно определить идентификатор процесса?

10. Прочтите справку (man) команды kill, после чего используйте её для завершения процесса gedit.

11. Выполните команды df и du, предварительно получив более подробную информацию об этих командах, с помощью команды man.

12. Воспользовавшись справкой команды find, выведите имена всех директорий, имеющихся в вашем домашнем каталоге.

# Теоретическое введение

Перенаправление ввода-вывода – возможность командной оболочки ряда операционных систем перенаправлять стандартные потоки в определённое пользователем место.

Команда find используется для поиска и отображения на экране имён файлов, соответствующих заданной строке символов. Формат команды: find путь \[-опции\]

Любой команде, выполняемой в системе, присваивается идентификатор процесса (process ID). Получить информацию о процессе и управлять им, пользуясь идентификатором процесса, можно из любого окна командного интерпретатора.

# Выполнение лабораторной работы

1. Осуществляем вход в систему, используя соответствующее имя пользователя.

2. Запишем в файл file.txt названия файлов, содержащихся в каталоге /etc.

![Запись в файл file.txt](image/1.png){ #fig:1 }

Допишем в этот же файл названия файлов, содержащихся в домашнем каталоге.

![Дописывание в файл file.txt](image/2.png){ #fig:2 }

3. Выведем имена всех файлов из file.txt, имеющих расширение .conf, после чего запишем их в новый текстовый файл conf.txt.

![Имена файлов из file.txt](image/3.png){ #fig:3 }

![Запись из file.txt в conf.txt](image/4.png){ #fig:4 }

4. Определим, какие файлы в домашнем каталоге имеют имена, начинавшиеся с символа c?

![Файлы в домашнем каталоге, начинающиеся с “c” (двумя способами)](image/5.png){ #fig:5 }

5. Выведем на экран (постранично) имена файлов из каталога /etc, начинающиеся с символа h.

![Файлы в каталоге /etc, начинающиеся с “c”](image/6.png){ #fig:6 }

6. Запустим в фоновом режиме процесс, который будет записывать в файл ~/logfile файлы, имена которых начинаются с log.

![Запуск фонового процесса](image/7.png){ #fig:7 }

7. Удалим файл ~/logfile.

![Удаление файла logfile](image/8.png){ #fig:8 }

8. Запустим из консоли в фоновом режиме редактор gedit.

![Фоновый запуск gedit](image/9.png){ #fig:9 }

9. Определим идентификатор процесса gedit, используя команду ps, конвейер и фильтр grep.

![Определение идентификатора процесса gedit (двумя способами)](image/10.png){ #fig:10 }

10. Прочтём справку (man) команды kill, после чего используем её для завершения процесса gedit.

![Использование команды kill](image/11.png){ #fig:11 }

11. Выполним команды df и du, предварительно получив более подробную информацию об этих командах, с помощью команды man.

![Команда df](image/12.png){ #fig:12 }

![Команда du](image/13.png){ #fig:13 }

12. Воспользовавшись справкой команды find, выведем имена всех директорий, имеющихся в домашнем каталоге.

![Имена директорий из домашнего каталога](image/14.png){ #fig:14 }

# Контрольные вопросы

1. Какие потоки ввода вывода вы знаете?

Ввод и вывод распределяются между тремя стандартными потоками:

- stdin — стандартный ввод (клавиатура)
- stdout — стандартный вывод (экран)
- stderr — стандартная ошибка (вывод ошибок на экран)

2. Объясните разницу между операциями > и >>.

\> перезаписывает существующий файл или создаёт его, если файл с указанным именем отсутствует в каталоге. \>\> добавляет существующий файл или создаёт его, если файл с указанным именем отсутствует в каталоге.

3. Что такое конвейер?

Конвейер (англ. pipeline) в терминологии операционных систем семейства Unix — некоторое множество процессов, для которых выполнено следующее перенаправление ввода-вывода: то, что выводит на поток стандартного вывода предыдущий процесс, попадает в поток стандартного ввода следующего процесса.

4. Что такое процесс? Чем это понятие отличается от программы?

Процесс - это:
- программа на стадии выполнения
- "объект", которому выделено процессорное время
- асинхронная работа

5. Что такое PID и GID?

PID означает Process Identifier и представляет собой уникальный номер, присвоенный запущенному процессу в операционной системе. Это помогает операционной системе идентифицировать процессы, запущенные в системе, и управлять ими.

GID означает Group Identifier и представляет собой уникальный номер, присвоенный группе пользователей в операционной системе. Это помогает операционной системе управлять контролем доступа и разрешениями для группы пользователей.

6. Что такое задачи и какая команда позволяет ими управлять?

Задачи — это единицы работы, которые необходимо выполнить в системе Linux. Они могут варьироваться от простых задач, таких как копирование файлов, до сложных задач, таких как управление веб-сервером.

Команда, позволяющая управлять задачами в Linux, называется «ps». Команда «ps» означает «process status» и отображает информацию о запущенных в данный момент процессах в системе. С помощью команды «ps» вы можете просмотреть идентификатор процесса (PID), использование ЦП и памяти, а также другие сведения о каждом процессе. Вы также можете использовать другие команды, такие как «kill», чтобы остановить или завершить процесс, если это необходимо.

7. Найдите информацию об утилитах top и htop. Каковы их функции?

Утилиты top и htop используются для мониторинга производительности системы и отображения в реальном времени информации о процессах, запущенных в системе. Некоторые из их функций включают в себя:

* Отображение использования системных ресурсов: обе утилиты отображают информацию об использовании ЦП, памяти и активности диска.

* Сортировка процессов. Пользователи могут сортировать процессы по различным критериям, таким как использование ЦП, использование памяти, идентификатор процесса и т. д.

* Уничтожение процессов. Пользователи могут завершать процессы, вызывающие проблемы или потребляющие слишком много ресурсов.

* Отображение сведений о процессе: обе утилиты предоставляют подробную информацию о каждом процессе, включая его статус, владельца, приоритет и другие атрибуты.

* Настройка: пользователи могут настраивать отображение информации, выбирая отображаемые столбцы, изменяя цветовую схему и т. д.

8. Назовите и дайте характеристику команде поиска файлов. Приведите примеры использования этой команды.

Команда поиска «find» используется для поиска файлов и каталогов на основе различных критериев поиска, таких как имя, размер, тип и дата модификации. Это мощный инструмент для поиска определенных файлов или групп файлов в иерархии каталогов.

Синтаксис команды следующий:

find \[путь\] \[аргумент\]

Где «путь» указывает начальный каталог для поиска, а «аргумент» указывает критерии поиска.

Некоторые распространенные варианты включают в себя:

- -name: Поиск файлов с определенным именем.
- -type: поиск файлов определенного типа (например, каталог, файл, символическая ссылка).
- -size: Поиск файлов определенного размера.
- -mtime: поиск файлов, измененных в течение определенного периода времени.

Примеры использования команды «find»:

1. Чтобы найти все файлы с определенным именем в текущем каталоге и его подкаталогах:

find . -name "*.txt"

Это отобразит все файлы с расширением «.txt» в текущем каталоге и его подкаталогах.

2. Чтобы найти все каталоги по определенному пути:

find /home/user -type d

Это отобразит все каталоги в разделе «/home/user».

3. Чтобы найти все файлы, измененные за последние 7 дней:

find . -type f -mtime -7

Это отобразит все файлы, измененные за последние 7 дней в текущем каталоге и его подкаталогах.

9. Можно ли по контексту (содержанию) найти файл? Если да, то как?

Для поиска файла по содержимому можно воспользоваться командой grep.

Пример: grep -r строка_поиска каталог

10. Как определить объём свободной памяти на жёстком диске?

Чтобы определить количество свободной памяти на жестком диске, можно использовать следующую команду в терминале: df -h. Эта команда отобразит информацию об использовании диска, включая общий размер, используемое пространство и доступное пространство для всех смонтированных файловых систем.

11. Как определить объём вашего домашнего каталога?

Чтобы определить размер вашего домашнего каталога, вы можете использовать следующую команду в терминале: du -sh ~. Эта команда отобразит размер вашего домашнего каталога, включая общий размер всех файлов и каталогов в вашем домашнем каталоге.

12. Как удалить зависший процесс?

Чтобы удалить зависший процесс в Linux, вы можете использовать следующие шаги:

1. Определите идентификатор процесса (PID) зависшего процесса с помощью команды «ps aux | grep \<имя процесса\>».

2. Используйте команду «kill \<PID\>», чтобы завершить процесс.

3. Если процесс все еще не завершен, используйте команду «kill -9 \<PID\>», чтобы принудительно завершить процесс.

# Выводы

Изучены инструменты поиска файлов и фильтрации текстовых данных. Приобретены практические навыки: по управлению процессами (и заданиями), по проверке использования диска и обслуживанию файловых систем.
